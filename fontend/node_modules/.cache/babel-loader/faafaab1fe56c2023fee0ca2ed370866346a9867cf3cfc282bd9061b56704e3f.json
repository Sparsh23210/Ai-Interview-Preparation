{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import axios from\"axios\";import SpeechRecognition,{useSpeechRecognition}from\"react-speech-recognition\";import Gauge from\"./Gauge\";import VantaBackgroundWrapper from\"../VantaBackgroundWrapper\";import Webgazer from\"webgazer\";import Navbar from\"./Navbar\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";window.webgazer=Webgazer;const Checking=()=>{const scrollRef=useRef(null);const[formData,setFormData]=useState({name:\"\",location:\"\",education:\"\",fatherName:\"\",motherName:\"\",siblings:\"\",resume:null});let silenceTimer=null;const[aiQuestion,setAiQuestion]=useState(\"\");const[loading,setLoading]=useState(false);const[analysis,setAnalysis]=useState(null);const[questionNumber,setQuestionNumber]=useState(1);const[questionHistory,setQuestionHistory]=useState([]);const videoRef=useRef(null);const[showCamera,setShowCamera]=useState(false);const[isSubmitted,setIsSubmitted]=useState(false);const[answer,setAnswer]=useState(\"\");const[isAnswered,setIsAnswered]=useState(false);const[startTime,setStartTime]=useState(null);const[endTime,setEndTime]=useState(null);const[wpm,setWpm]=useState(0);const[duration,setDuration]=useState(0);const[fluencyFeedback,setFluencyFeedback]=useState(\"\");const[error,setError]=useState(null);const{transcript,listening,resetTranscript,browserSupportsSpeechRecognition}=useSpeechRecognition();useEffect(()=>{if(showCamera||aiQuestion){var _scrollRef$current;(_scrollRef$current=scrollRef.current)===null||_scrollRef$current===void 0?void 0:_scrollRef$current.scrollIntoView({behavior:'smooth'});}},[showCamera,aiQuestion]);const fetchUniqueQuestion=async()=>{const maxRetries=5;for(let i=0;i<maxRetries;i++){const response=await axios.get(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/questioncheck\"));const newQuestion=response.data.question;if(!questionHistory.includes(newQuestion)){setQuestionHistory(prev=>[...prev,newQuestion]);return newQuestion;console.log(\"Fetched question:\",newQuestion);}}return\"Unable to generate a unique question. Please try again later.\";};const resetSilenceTimer=()=>{if(silenceTimer)clearTimeout(silenceTimer);silenceTimer=setTimeout(()=>{stopListening();console.log(\"Auto-stopped due to silence.\");},4000);};useEffect(()=>{if(listening){resetSilenceTimer();}},[transcript]);const fetchAnswer=async question=>{try{const response=await axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/answercheck\"),{text:question});const newAnswer=response.data.answer;return newAnswer;}catch(error){console.error(\"Error fetching AI answer:\",error);return\"Unable to generate answer. Please try again later.\";}};const startEyeTracking=()=>{if(Webgazer&&Webgazer.setGazeListener){Webgazer.setGazeListener((data,timestamp)=>{if(data){console.log(\"Gaze at:\",data.x,data.y);}}).begin();Webgazer.showVideo(false).showFaceOverlay(false).showFaceFeedbackBox(false);}else{console.warn(\"webgazer is not available.\");}};const provideanswer=async()=>{const result=await fetchAnswer(aiQuestion);setAnswer(result);setIsAnswered(true);console.log(\"ai answer\",result);};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);try{const question=await fetchUniqueQuestion();setAiQuestion(question);resetTranscript();setAnalysis(null);setShowCamera(true);startEyeTracking();setIsSubmitted(true);}catch(error){setError(error);console.error(\"Error sending data to GPT API:\",error);}setLoading(false);};const startListening=()=>{resetTranscript();setStartTime(Date.now());SpeechRecognition.startListening({continuous:true});};const stopListening=()=>{SpeechRecognition.stopListening();const end=Date.now();setEndTime(end);if(startTime){const duration=(end-startTime)/1000;const words=transcript.trim().split(/\\s+/).filter(Boolean).length;const calculatedWPM=words/(duration/60);setDuration(duration);setWpm(calculatedWPM.toFixed(2));let feedback=\"Needs improvement\";if(calculatedWPM>=90)feedback=\"Excellent fluency!\";else if(calculatedWPM>=80)feedback=\"Very good fluency!\";else if(calculatedWPM>=70)feedback=\"Good fluency!\";else if(calculatedWPM>=60)feedback=\"Good, but can improve.\";setFluencyFeedback(feedback);}};const analyzeTranscript=async()=>{try{const response=await axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/analyze-answer\"),{text:transcript});setAnalysis(response.data);}catch(error){console.error(\"Error analyzing transcript:\",error);}};// useEffect(() => {\n//   if (!listening && transcript) {\n//     analyzeTranscript();\n//   }\n// }, [listening, transcript]);\n// useEffect(() => {\n//   return () => {\n//     Webgazer?.end();  \n//   };\n// }, []);\nconst stopCameraAndEyeTracking=()=>{if(window.webgazer&&typeof window.webgazer.end===\"function\"){try{const isActive=window.webgazer.isReady();if(isActive){window.webgazer.end();window.webgazer.clearData();console.log('WebGazer successfully stopped');}}catch(e){console.warn(\"Error stopping WebGazer:\",e);}}if(videoRef.current&&videoRef.current.srcObject){const tracks=videoRef.current.srcObject.getTracks();tracks.forEach(track=>{try{track.stop();}catch(e){console.warn(\"Error stopping camera track:\",e);}});videoRef.current.srcObject=null;console.log(\"Camera stopped.\");}setShowCamera(false);};const handleNextQuestion=async()=>{setLoading(true);try{const question=await fetchUniqueQuestion();setAiQuestion(question);resetTranscript();setAnalysis(null);setQuestionNumber(prev=>prev+1);setAnswer(\"\");setIsAnswered(false);}catch(error){console.error(\"Error generating next question:\",error);}setLoading(false);};// const startCamera = async () => {\n//   try {\n//     const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n//     if (videoRef.current) {\n//       videoRef.current.srcObject = stream;\n//     }\n//   } catch (err) {\n//     console.error(\"Camera access denied or not available\", err);\n//   }\n// };\nuseEffect(()=>{const handleBeforeUnload=()=>{if(window.webgazer&&typeof window.webgazer.end===\"function\"){try{window.webgazer.end();}catch(e){console.warn(\"webgazer.end() cleanup error:\",e);}}setShowCamera(false);};window.addEventListener(\"beforeunload\",handleBeforeUnload);return()=>{window.removeEventListener(\"beforeunload\",handleBeforeUnload);if(window.webgazer&&typeof window.webgazer.end===\"function\"){try{window.webgazer.end();}catch(e){console.warn(\"webgazer.end() cleanup error:\",e);}}setShowCamera(false);};},[]);useEffect(()=>{if(showCamera){const start=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({video:true});if(videoRef.current){videoRef.current.srcObject=stream;}}catch(err){console.error(\"Camera access denied or not available\",err);}};start();}},[showCamera]);useEffect(()=>{if(transcript.toLowerCase().includes(\"stop\")){stopListening();console.log(\"Voice command 'stop' detected. Stopping...\");}},[transcript]);useEffect(()=>{if(error){alert(\"Failed to Generate\");setError(\"\");}},[error]);const resetanalysis=()=>{if(SpeechRecognition&&typeof SpeechRecognition.stopListening===\"function\"){SpeechRecognition.stopListening();}setAnalysis(null);setFluencyFeedback(\"\");setWpm(0);setDuration(0);setIsAnswered(false);setAnswer(\"\");setStartTime(null);setEndTime(null);resetTranscript();};if(!browserSupportsSpeechRecognition){return/*#__PURE__*/_jsx(\"span\",{children:\"Your browser does not support speech recognition.\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(VantaBackgroundWrapper,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{marginTop:\"20px\",marginBottom:\"50px\"},children:/*#__PURE__*/_jsx(VantaBackgroundWrapper,{children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-lg rounded-3\",style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[isSubmitted&&showCamera&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 \",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"h6 fw-bold\",children:\"\\uD83D\\uDCF7 Eye Tracking Camera (Live)\"}),/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,playsInline:true,className:\"w-100 rounded border\",style:{maxHeight:\"220px\"}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:stopCameraAndEyeTracking,children:\"Close Camera\"})]}),!isSubmitted&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-center align-items-center vh-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title mb-4\",children:\"Click Below To Check\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"btn btn-primary btn-lg fw-bold px-4 py-2 shadow\",style:{transition:\"transform 0.3s ease, background-color 0.3s ease\"},onMouseOver:e=>e.target.style.transform=\"scale(1.05)\",onMouseOut:e=>e.target.style.transform=\"scale(1)\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Generating...\"]}):\"Let's Check\"})]}),aiQuestion&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 p-3 bg-light rounded border\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"h4 fw-bold mb-2\",children:[\" Question \",questionNumber,\":\"]}),/*#__PURE__*/_jsx(\"h2\",{children:aiQuestion}),!isAnswered&&/*#__PURE__*/_jsx(\"button\",{onClick:provideanswer,className:\"btn btn-secondary mb-3\",children:\"Check Answer\"}),isAnswered&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"AI Answer:\"}),\" \",answer]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"h4 fw-bold\",children:\" Your Answer (Voice Input)\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-secondary mb-2\",children:transcript||\"Your speech will appear here...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justifyContent-space-between pd-5\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:startListening,className:\"btn btn-success hover-effect\",children:\"Start Talking\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:stopListening,className:\"btn btn-danger\",style:{marginLeft:'10px'},children:\"Stop\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetanalysis,className:\"btn btn-secondary\",style:{marginLeft:'10px'},children:\"Reset\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:analyzeTranscript,className:\"btn btn-primary\",children:\"Check Analyasis\"})]})]}),analysis&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"h6 fw-bold mb-2\",children:\" Answer Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-warning bg-opacity-25 rounded\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Fluency Feedback: \",fluencyFeedback]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Gauge,{value:wpm})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-warning bg-opacity-25 rounded\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Grammar Accuracy: \",analysis.grammar,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Gauge,{value:analysis.grammar})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleNextQuestion,className:\"btn btn-info mt-2\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Generating...\"]}):\"Next Question\"})})]})]})})})}),\" \"]})]});};export default Checking;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","SpeechRecognition","useSpeechRecognition","Gauge","VantaBackgroundWrapper","Webgazer","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","window","webgazer","Checking","scrollRef","formData","setFormData","name","location","education","fatherName","motherName","siblings","resume","silenceTimer","aiQuestion","setAiQuestion","loading","setLoading","analysis","setAnalysis","questionNumber","setQuestionNumber","questionHistory","setQuestionHistory","videoRef","showCamera","setShowCamera","isSubmitted","setIsSubmitted","answer","setAnswer","isAnswered","setIsAnswered","startTime","setStartTime","endTime","setEndTime","wpm","setWpm","duration","setDuration","fluencyFeedback","setFluencyFeedback","error","setError","transcript","listening","resetTranscript","browserSupportsSpeechRecognition","_scrollRef$current","current","scrollIntoView","behavior","fetchUniqueQuestion","maxRetries","i","response","get","concat","process","env","REACT_APP_BACKEND_URL","newQuestion","data","question","includes","prev","console","log","resetSilenceTimer","clearTimeout","setTimeout","stopListening","fetchAnswer","post","text","newAnswer","startEyeTracking","setGazeListener","timestamp","x","y","begin","showVideo","showFaceOverlay","showFaceFeedbackBox","warn","provideanswer","result","handleSubmit","e","preventDefault","startListening","Date","now","continuous","end","words","trim","split","filter","Boolean","length","calculatedWPM","toFixed","feedback","analyzeTranscript","stopCameraAndEyeTracking","isActive","isReady","clearData","srcObject","tracks","getTracks","forEach","track","stop","handleNextQuestion","handleBeforeUnload","addEventListener","removeEventListener","start","stream","navigator","mediaDevices","getUserMedia","video","err","toLowerCase","alert","resetanalysis","children","className","style","marginTop","marginBottom","ref","autoPlay","playsInline","maxHeight","onClick","transition","onMouseOver","target","transform","onMouseOut","role","type","marginLeft","value","grammar"],"sources":["C:/Users/Sparsh Chaurasiya/OneDrive/Desktop/react/student-ai-preparation/fontend/src/components/Checking.js"],"sourcesContent":["\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport SpeechRecognition, { useSpeechRecognition } from \"react-speech-recognition\";\r\nimport Gauge from \"./Gauge\";\r\n\r\nimport VantaBackgroundWrapper from \"../VantaBackgroundWrapper\";\r\n\r\nimport Webgazer from \"webgazer\"\r\n\r\nimport Navbar from \"./Navbar\";\r\nwindow.webgazer = Webgazer;\r\n\r\n\r\n\r\nconst Checking= () => {\r\n  const scrollRef = useRef(null);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    location: \"\",\r\n    education: \"\",\r\n    fatherName: \"\",\r\n    motherName: \"\",\r\n    siblings: \"\",\r\n    resume: null,\r\n  });\r\nlet silenceTimer = null;\r\n  const [aiQuestion, setAiQuestion] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [questionNumber, setQuestionNumber] = useState(1);\r\n  const [questionHistory, setQuestionHistory] = useState([]);\r\n  const videoRef = useRef(null);\r\n  const [showCamera, setShowCamera] = useState(false);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const [answer,setAnswer]=useState(\"\");\r\n  const [isAnswered,setIsAnswered]=useState(false);\r\n  const [startTime, setStartTime] = useState(null);\r\nconst [endTime, setEndTime] = useState(null);\r\nconst [wpm, setWpm] = useState(0);\r\nconst [duration, setDuration] = useState(0);\r\nconst [fluencyFeedback, setFluencyFeedback] = useState(\"\");\r\nconst [error,setError]=useState(null);\r\n  const {\r\n    transcript,\r\n    listening,\r\n    resetTranscript,\r\n    browserSupportsSpeechRecognition,\r\n  } = useSpeechRecognition();\r\n\r\n  \r\n\r\n  \r\n  useEffect(() => {\r\n  if (showCamera || aiQuestion) {\r\n    scrollRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }\r\n}, [showCamera, aiQuestion]);\r\n\r\n\r\n  const fetchUniqueQuestion = async () => {\r\n    const maxRetries = 5;\r\n    for (let i = 0; i < maxRetries; i++) {\r\n      const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/api/questioncheck`);\r\n      const newQuestion = response.data.question;\r\n      if (!questionHistory.includes(newQuestion)) {\r\n        setQuestionHistory((prev) => [...prev, newQuestion]);\r\n        return newQuestion;\r\n        console.log(\"Fetched question:\", newQuestion);\r\n\r\n      }\r\n    }\r\n    return \"Unable to generate a unique question. Please try again later.\";\r\n  };\r\n  const resetSilenceTimer = () => {\r\n  if (silenceTimer) clearTimeout(silenceTimer);\r\n  silenceTimer = setTimeout(() => {\r\n    stopListening();\r\n    console.log(\"Auto-stopped due to silence.\");\r\n  }, 4000); \r\n};\r\n\r\nuseEffect(() => {\r\n  if (listening) {\r\n    resetSilenceTimer();\r\n  }\r\n}, [transcript]);\r\n  const fetchAnswer = async (question) => {\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/api/answercheck`, { text: question });\r\n      const newAnswer = response.data.answer;\r\n      \r\n      return newAnswer;\r\n    } catch (error) {\r\n      console.error(\"Error fetching AI answer:\", error);\r\n      \r\n      return \"Unable to generate answer. Please try again later.\";\r\n    }\r\n  };\r\n const startEyeTracking = () => {\r\n   if (Webgazer && Webgazer.setGazeListener) {\r\n     Webgazer.setGazeListener((data,timestamp) => {\r\n       if (data) {\r\n         console.log(\"Gaze at:\", data.x, data.y);\r\n       }\r\n     }).begin();\r\n\r\n     Webgazer\r\n       .showVideo(false)\r\n       .showFaceOverlay(false)\r\n       .showFaceFeedbackBox(false);\r\n   } else {\r\n     console.warn(\"webgazer is not available.\");\r\n   }\r\n };\r\n const provideanswer=async()=>{\r\n  const result=await fetchAnswer(aiQuestion);\r\n  setAnswer(result);\r\n  setIsAnswered(true);\r\n  console.log(\"ai answer\",result);\r\n }\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      \r\n      const question = await fetchUniqueQuestion();\r\n      setAiQuestion(question);\r\n      resetTranscript();\r\n      setAnalysis(null);\r\n      setShowCamera(true);\r\n    startEyeTracking();\r\n    \r\n    setIsSubmitted(true);\r\n    } catch (error) {\r\n       setError(error); \r\n      console.error(\"Error sending data to GPT API:\", error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const startListening = () => {\r\n    resetTranscript();\r\n     setStartTime(Date.now()); \r\n    SpeechRecognition.startListening({ continuous: true });\r\n  };\r\n\r\n  const stopListening = () => {\r\n    SpeechRecognition.stopListening();\r\n    const end = Date.now();\r\n    setEndTime(end);\r\n    if (startTime) {\r\n      const duration = (end - startTime) / 1000;\r\n      const words = transcript.trim().split(/\\s+/).filter(Boolean).length;\r\n      const calculatedWPM = (words / (duration / 60));\r\n      setDuration(duration);\r\n      setWpm(calculatedWPM.toFixed(2));\r\n\r\n      let feedback = \"Needs improvement\";\r\n      if (calculatedWPM >= 90) feedback = \"Excellent fluency!\";\r\n      else if (calculatedWPM >= 80) feedback = \"Very good fluency!\";\r\n      else if (calculatedWPM >= 70) feedback = \"Good fluency!\";\r\n      else if (calculatedWPM >= 60) feedback = \"Good, but can improve.\";\r\n      setFluencyFeedback(feedback);\r\n    }\r\n  };\r\n  \r\n\r\n  const analyzeTranscript = async () => {\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/api/analyze-answer`, { text: transcript });\r\n      setAnalysis(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error analyzing transcript:\", error);\r\n    }\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if (!listening && transcript) {\r\n  //     analyzeTranscript();\r\n  //   }\r\n  // }, [listening, transcript]);\r\n// useEffect(() => {\r\n//   return () => {\r\n//     Webgazer?.end();  \r\n//   };\r\n// }, []);\r\nconst stopCameraAndEyeTracking = () => {\r\n  \r\n  if (window.webgazer && typeof window.webgazer.end === \"function\") {\r\n    try {\r\n      const isActive = window.webgazer.isReady();\r\n      \r\n      \r\n      if (isActive) {\r\n        window.webgazer.end();\r\n        window.webgazer.clearData();\r\n        console.log('WebGazer successfully stopped');\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error stopping WebGazer:\", e);\r\n    }\r\n  }\r\n\r\n  \r\n  if (videoRef.current && videoRef.current.srcObject) {\r\n    const tracks = videoRef.current.srcObject.getTracks();\r\n    tracks.forEach((track) => {\r\n      try {\r\n        track.stop();\r\n      } catch (e) {\r\n        console.warn(\"Error stopping camera track:\", e);\r\n      }\r\n    });\r\n    videoRef.current.srcObject = null;\r\n    console.log(\"Camera stopped.\");\r\n  }\r\n\r\n \r\n  setShowCamera(false);\r\n};\r\n\r\n  const handleNextQuestion = async () => {\r\n    setLoading(true);\r\n   try{\r\n      const question = await fetchUniqueQuestion();\r\n      setAiQuestion(question);\r\n      resetTranscript();\r\n      setAnalysis(null);\r\n      setQuestionNumber((prev) => prev + 1);\r\n      setAnswer(\"\");\r\n      setIsAnswered(false);\r\n    } catch (error) {\r\n      console.error(\"Error generating next question:\", error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // const startCamera = async () => {\r\n  //   try {\r\n  //     const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n  //     if (videoRef.current) {\r\n  //       videoRef.current.srcObject = stream;\r\n  //     }\r\n  //   } catch (err) {\r\n  //     console.error(\"Camera access denied or not available\", err);\r\n  //   }\r\n  // };\r\n  useEffect(() => {\r\n  const handleBeforeUnload = () => {\r\n    if (window.webgazer && typeof window.webgazer.end === \"function\") {\r\n      try {\r\n        window.webgazer.end();\r\n      } catch (e) {\r\n        \r\n        console.warn(\"webgazer.end() cleanup error:\", e);\r\n      }\r\n    }\r\n    setShowCamera(false);\r\n  };\r\n\r\n  window.addEventListener(\"beforeunload\", handleBeforeUnload);\r\n\r\n  return () => {\r\n    window.removeEventListener(\"beforeunload\", handleBeforeUnload);\r\n    if (window.webgazer && typeof window.webgazer.end === \"function\") {\r\n      try {\r\n        window.webgazer.end();\r\n      } catch (e) {\r\n        console.warn(\"webgazer.end() cleanup error:\", e);\r\n      }\r\n    }\r\n    setShowCamera(false);\r\n  };\r\n}, []);\r\n\r\n  useEffect(() => {\r\n  if (showCamera) {\r\n    const start = async () => {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Camera access denied or not available\", err);\r\n      }\r\n    };\r\n    start();\r\n  }\r\n}, [showCamera]);\r\nuseEffect(() => {\r\n  if (transcript.toLowerCase().includes(\"stop\")) {\r\n    stopListening();\r\n    console.log(\"Voice command 'stop' detected. Stopping...\");\r\n  }\r\n}, [transcript]);\r\nuseEffect(()=>{\r\n  if(error){\r\n    alert(\"Failed to Generate\");\r\n    setError(\"\");\r\n  }\r\n},[error]);\r\nconst resetanalysis=()=>{\r\n  if (SpeechRecognition && typeof SpeechRecognition.stopListening === \"function\") {\r\n    SpeechRecognition.stopListening();\r\n  }\r\n  setAnalysis(null);\r\n  setFluencyFeedback(\"\");\r\n  setWpm(0);\r\n  setDuration(0);\r\n  setIsAnswered(false);\r\n  setAnswer(\"\");\r\n  setStartTime(null);\r\n  setEndTime(null); \r\n  resetTranscript();\r\n\r\n\r\n \r\n}\r\n\r\n  \r\n  if (!browserSupportsSpeechRecognition) {\r\n    return <span>Your browser does not support speech recognition.</span>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n    \r\n     <Navbar/>\r\n    <VantaBackgroundWrapper>\r\n    \r\n    <div className=\"container\" style={{ marginTop: \"20px\", marginBottom: \"50px\" }}>\r\n      <VantaBackgroundWrapper>\r\n      <div className=\"card shadow-lg rounded-3\"style={{ marginTop: \"100px\"}}>\r\n        <div className=\"card-body\">\r\n          \r\n\r\n          \r\n\r\n         \r\n         {isSubmitted &&  showCamera&&(<div className=\"mb-4 \">\r\n            <h4 className=\"h6 fw-bold\">ðŸ“· Eye Tracking Camera (Live)</h4>\r\n            <video ref={videoRef} autoPlay playsInline className=\"w-100 rounded border\" style={{ maxHeight: \"220px\" }} />\r\n         <button\r\n  className=\"btn btn-danger\"\r\n  onClick={stopCameraAndEyeTracking}\r\n    \r\n    \r\n>\r\n  Close Camera\r\n</button>\r\n\r\n  </div>\r\n  )\r\n  \r\n}\r\n\r\n     {!isSubmitted&&(<div className=\"d-flex flex-column justify-content-center align-items-center vh-100\">\r\n      <h2 className=\"card-title mb-4\">Click Below To Check</h2>\r\n  <button onClick={handleSubmit}\r\n    className=\"btn btn-primary btn-lg fw-bold px-4 py-2 shadow\"\r\n    style={{\r\n      transition: \"transform 0.3s ease, background-color 0.3s ease\",\r\n    }}\r\n    onMouseOver={(e) => (e.target.style.transform = \"scale(1.05)\")}\r\n    onMouseOut={(e) => (e.target.style.transform = \"scale(1)\")}\r\n  >\r\n    {loading ? (\r\n        <>\r\n          <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n          Generating...\r\n        </>\r\n      ) : (\r\n        \"Let's Check\"\r\n      )}\r\n  </button>\r\n  \r\n</div>)}\r\n\r\n          {aiQuestion && (\r\n            <div className=\"mt-5 p-3 bg-light rounded border\">\r\n              <h3 className=\"h4 fw-bold mb-2\"> Question {questionNumber}:</h3>\r\n              <h2>{aiQuestion}</h2>\r\n              {!isAnswered && (\r\n                <button onClick={provideanswer} className=\"btn btn-secondary mb-3\">\r\n                  Check Answer\r\n                </button>\r\n              )}\r\n              {isAnswered && (\r\n                <div className=\"alert alert-info mt-2\">\r\n                  <strong>AI Answer:</strong> {answer}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mt-3\">\r\n                <h3 className=\"h4 fw-bold\"> Your Answer (Voice Input)</h3>\r\n                <h2 className=\"text-secondary mb-2\">{transcript || \"Your speech will appear here...\"}</h2>\r\n\r\n                <div className=\"d-flex gap-3 mb-3\">\r\n                <div className=\"d-flex justifyContent-space-between pd-5\" >\r\n                  <button type=\"button\" onClick={startListening} className=\"btn btn-success hover-effect\">\r\n                    Start Talking\r\n                  </button>\r\n                  <button type=\"button\" onClick={stopListening} className=\"btn btn-danger\"style={{ marginLeft: '10px' }}>\r\n                    Stop\r\n                  </button>\r\n                  <button type=\"button\" onClick={resetanalysis} className=\"btn btn-secondary\"style={{ marginLeft: '10px' }}>\r\n                    Reset\r\n                  </button>\r\n                </div>\r\n                <button onClick={analyzeTranscript} className=\"btn btn-primary\">Check Analyasis</button>\r\n                </div>\r\n              </div>\r\n              \r\n              {analysis && (<div>\r\n                 <h4 className=\"h6 fw-bold mb-2\"> Answer Analysis</h4>\r\n                <div className=\"d-flex flex-row gap-2\">\r\n                  <div className=\"mt-4 p-3 bg-warning bg-opacity-25 rounded\">\r\n                   \r\n                    <p>Fluency Feedback: {fluencyFeedback}</p>\r\n                    \r\n                    <div>\r\n                      <Gauge value={wpm}/>\r\n                      \r\n                    </div>\r\n                  </div>\r\n                   <div className=\"mt-4 p-3 bg-warning bg-opacity-25 rounded\">\r\n                   \r\n                    \r\n                    <p>Grammar Accuracy: {analysis.grammar}%</p>\r\n                    <div>\r\n                      \r\n                      <Gauge value={analysis.grammar}/>\r\n                    </div>\r\n                  </div>\r\n                </div></div>\r\n              )}\r\n              <div className=\"text-end\">\r\n                    <button onClick={handleNextQuestion} className=\"btn btn-info mt-2\">\r\n                     {loading ? (\r\n        <>\r\n          <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n          Generating...\r\n        </>\r\n      ) : (\r\n        \"Next Question\"\r\n      )} \r\n                    </button>\r\n                  </div>\r\n            </div>\r\n            \r\n          )}\r\n        </div>\r\n      </div></VantaBackgroundWrapper>\r\n    </div> </VantaBackgroundWrapper></>\r\n  );\r\n};\r\n\r\nexport default Checking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}